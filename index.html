<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Villa - Hyper Island Journey</title>
    <meta name="description" content="Developer Villa Journey in A-Frame">
    
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Header Overlay -->
    <div class="overlay">
        <h1>üèóÔ∏è Developer Villa</h1>
        <p>Building Skills into Architecture</p>
    </div>

    <!-- VR/AR Controls -->
    <div class="vr-controls">
        <button class="vr-button" onclick="enterVR()" aria-label="Enter Virtual Reality mode">
            üëì Enter VR
        </button>
        <button class="vr-button" onclick="enterAR()" aria-label="Enter Augmented Reality mode">
            üì± Enter AR
        </button>
    </div>

    <!-- WASD Controls Info -->
    <div class="wasd-info">
        <div>üéÆ WASD to move | Mouse to look around</div>
        <div>Walk inside the house!</div>
        <div>Press ENTER to open/close door</div>
        <div>VR: Use triggers to navigate scenes</div>
        <div>Click on glowing objects for info!</div>
    </div>

    <!-- Scene Controls -->
    <div class="controls">
        <button class="btn" onclick="prevScene()" id="prevBtn">‚Üê Previous</button>
        <span id="sceneInfo">Welcome (1/9)</span>
        <button class="btn" onclick="nextScene()" id="nextBtn">Next ‚Üí</button>
    </div>

    <!-- Loading indicator -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- Info Popup -->
    <div id="infoPopup" class="info-popup" style="display: none;">
        <div class="popup-content">
            <span id="popupText">Information</span>
            <button onclick="closePopup()">√ó</button>
        </div>
    </div>

    <!-- A-Frame Scene -->
    <a-scene
        background="color: #0a0a23"
        fog="type: exponential; color: #1a0f2e; density: 0.008"
        shadow="type: pcf; autoUpdate: true"
        vr-mode-ui="enabled: true"
        embedded
        style="height: 100vh; width: 100vw;"
        raycaster="objects: .clickable"
    >
        <!-- Assets -->
        <a-assets>
            <img id="scenicBackground" src="assets/scenic-view.png" crossorigin="anonymous">
        </a-assets>

        <!-- Enhanced Lighting Setup -->
        <a-light type="ambient" color="#2d1b4e" intensity="0.5"></a-light>
        <a-light type="directional" position="10 20 10" color="#00ffff" intensity="1.2" castShadow="true"></a-light>
        <a-light type="point" position="0 8 0" color="#ff00ff" intensity="0.8"></a-light>
        <a-light type="point" position="-15 6 -10" color="#00ff7f" intensity="0.6"></a-light>
        <a-light type="point" position="15 6 -10" color="#ff7f00" intensity="0.6"></a-light>

        <!-- Enhanced Ground with texture -->
        <a-plane 
            position="0 -1 -15" 
            rotation="-90 0 0" 
            width="30" 
            height="30" 
            color="#059669"
            shadow="receive: true"
            material="metalness: 0.3; roughness: 0.7"
        ></a-plane>

        <!-- Enhanced Digital Sky with your background image -->
        <a-sky src="assets/scenic-view.png" rotation="0 -90 0"></a-sky>

        <!-- SCENE 0: Welcome with Board moved to corner -->
        <a-entity id="scene0">
            <!-- Welcome Board positioned in the corner, not blocking villa -->
            <a-box 
                position="-15 3 -8" 
                width="8" 
                height="3" 
                depth="0.3" 
                color="#8B4513"
                shadow="cast: true"
            ></a-box>
            
            <!-- Board Frame -->
            <a-box 
                position="-15 3 -7.9" 
                width="7.5" 
                height="2.5" 
                depth="0.1" 
                color="#FFFFFF"
            ></a-box>
            
            <a-text
                position="-15 3 -7.8"
                value="üéì HYPER ISLAND\nJOURNEY BEGINS\n\nüèóÔ∏è DEVELOPER VILLA\nBuilding Skills into Architecture"
                align="center"
                color="#000000"
                width="6"
            ></a-text>
            
            <!-- Board Posts -->
            <a-cylinder position="-18 1 -8" radius="0.15" height="3" color="#654321"></a-cylinder>
            <a-cylinder position="-12 1 -8" radius="0.15" height="3" color="#654321"></a-cylinder>
            
            <!-- Welcome Particles -->
            <a-sphere position="5 6 -3" radius="0.2" color="#10B981" opacity="0.8"></a-sphere>
            <a-sphere position="-5 5 -7" radius="0.3" color="#06B6D4" opacity="0.8"></a-sphere>
        </a-entity>

        <!-- SCENE 1: HTML Foundation -->
        <a-entity id="scene1" visible="false">
            <!-- Foundation Grid Pattern -->
            <a-plane position="0 -0.9 -15" rotation="-90 0 0" width="18" height="18" 
                     color="#047857" opacity="0.8"></a-plane>
            
            <!-- Foundation Border -->
            <a-box position="9 -0.5 -15" width="0.5" height="0.5" depth="18" color="#065f46"></a-box>
            <a-box position="-9 -0.5 -15" width="0.5" height="0.5" depth="18" color="#065f46"></a-box>
            <a-box position="0 -0.5 -6" width="18" height="0.5" depth="0.5" color="#065f46"></a-box>
            <a-box position="0 -0.5 -24" width="18" height="0.5" depth="0.5" color="#065f46"></a-box>
            
            <a-text
                position="0 2 -10"
                value="HTML: FOUNDATION"
                align="center"
                color="#ECFDF5"
                width="12"
            ></a-text>
        </a-entity>

        <!-- SCENE 2: CSS Walls with INTEGRATED DOOR -->
        <a-entity id="scene2" visible="false">
            <!-- Left Wall -->
            <a-box 
                position="-6 2 -12" 
                width="0.5" 
                height="6" 
                depth="12" 
                color="#1D4ED8"
                shadow="cast: true"
                material="metalness: 0.4; roughness: 0.6"
            ></a-box>
            
            <!-- Right Wall -->
            <a-box 
                position="6 2 -12" 
                width="0.5" 
                height="6" 
                depth="12" 
                color="#1D4ED8"
                shadow="cast: true"
                material="metalness: 0.4; roughness: 0.6"
            ></a-box>
            
            <!-- Back Wall -->
            <a-box 
                position="0 2 -18" 
                width="12" 
                height="6" 
                depth="0.5" 
                color="#1E40AF"
                shadow="cast: true"
                material="metalness: 0.4; roughness: 0.6"
            ></a-box>
            
            <!-- Front Wall - Left Part (with door opening) -->
            <a-box 
                position="-3.5 2 -6" 
                width="5" 
                height="6" 
                depth="0.5" 
                color="#1E40AF"
                shadow="cast: true"
                material="metalness: 0.4; roughness: 0.6"
            ></a-box>
            
            <!-- Front Wall - Right Part (with door opening) -->
            <a-box 
                position="3.5 2 -6" 
                width="5" 
                height="6" 
                depth="0.5" 
                color="#1E40AF"
                shadow="cast: true"
                material="metalness: 0.4; roughness: 0.6"
            ></a-box>
            
            <!-- Front Wall - Top Part above door -->
            <a-box 
                position="0 4.5 -6" 
                width="3" 
                height="3" 
                depth="0.5" 
                color="#1E40AF"
                shadow="cast: true"
                material="metalness: 0.4; roughness: 0.6"
            ></a-box>
            
            <!-- Door Frame (flush with wall) -->
            <a-box 
                position="0 1.5 -5.95" 
                width="1.6" 
                height="3" 
                depth="0.4" 
                color="#8B4513"
                shadow="cast: true"
            ></a-box>
            
            <!-- REALISTIC DOOR - Properly positioned and sized -->
            <a-box 
                id="villa-door"
                position="0 1.5 -5.8" 
                width="1.4" 
                height="2.8" 
                depth="0.15" 
                color="#654321"
                shadow="cast: true"
                material="emissive: #FFD700; emissiveIntensity: 0.3"
                class="clickable"
                animation__glow="property: material.emissiveIntensity; to: 0.8; dur: 1000; dir: alternate; loop: true"
            ></a-box>
            
            <!-- Door Handle -->
            <a-sphere 
                position="0.5 1.5 -5.7" 
                radius="0.04" 
                color="#FFD700"
                shadow="cast: true"
                material="emissive: #FFD700; emissiveIntensity: 0.8"
            ></a-sphere>
            
            <!-- Door Window -->
            <a-box 
                position="0 2.2 -5.77" 
                width="0.5" 
                height="0.3" 
                depth="0.03" 
                color="#87CEEB"
                opacity="0.8"
                material="emissive: #87CEEB; emissiveIntensity: 0.3"
            ></a-box>
            
            <!-- Door Lighting -->
            <a-light type="point" position="0 2 -5" color="#FFD700" intensity="1.2"></a-light>
            
            <!-- Interior Floor -->
            <a-plane 
                position="0 -0.8 -12" 
                rotation="-90 0 0" 
                width="11" 
                height="11" 
                color="#8B4513"
                material="metalness: 0.2; roughness: 0.8"
            ></a-plane>
            
            <a-text
                position="0 6 -12"
                value="CSS: STRUCTURE & DESIGN\nClick the door to open it!"
                align="center"
                color="#DBEAFE"
                width="10"
            ></a-text>
        </a-entity>

        <!-- SCENE 3: JavaScript Windows -->
        <a-entity id="scene3" visible="false">
            <!-- Front Windows -->
            <a-box 
                position="-2.5 3.5 -5.8" 
                width="2" 
                height="2" 
                depth="0.2" 
                color="#FBBF24"
                opacity="0.9"
                shadow="cast: true"
                material="emissive: #FBBF24; emissiveIntensity: 0.4"
            ></a-box>
            
            <a-box 
                position="2.5 3.5 -5.8" 
                width="2" 
                height="2" 
                depth="0.2" 
                color="#F59E0B"
                opacity="0.9"
                shadow="cast: true"
                material="emissive: #F59E0B; emissiveIntensity: 0.4"
            ></a-box>
            
            <!-- Side Windows -->
            <a-box 
                position="-5.8 3.5 -10" 
                width="0.2" 
                height="2" 
                depth="2" 
                color="#FBBF24"
                opacity="0.9"
                shadow="cast: true"
                material="emissive: #FBBF24; emissiveIntensity: 0.4"
            ></a-box>
            
            <a-box 
                position="5.8 3.5 -14" 
                width="0.2" 
                height="2" 
                depth="2" 
                color="#F59E0B"
                opacity="0.9"
                shadow="cast: true"
                material="emissive: #F59E0B; emissiveIntensity: 0.4"
            ></a-box>
            
            <!-- Window Frames -->
            <a-box position="-2.5 3.5 -5.9" width="2.2" height="2.2" depth="0.1" color="#92400E"></a-box>
            <a-box position="2.5 3.5 -5.9" width="2.2" height="2.2" depth="0.1" color="#92400E"></a-box>
            
            <a-text
                position="0 6.5 -12"
                value="JAVASCRIPT: INTERACTIVITY & LOGIC"
                align="center"
                color="#FEF3C7"
                width="8"
            ></a-text>
        </a-entity>

        <!-- SCENE 4: Node.js Basement -->
        <a-entity id="scene4" visible="false">
            <!-- Basement -->
            <a-box 
                position="0 -2 -12" 
                width="14" 
                height="2" 
                depth="12" 
                color="#047857"
                shadow="cast: true"
            ></a-box>
            
            <!-- Server Pillars -->
            <a-cylinder 
                position="-3 0 -10" 
                radius="0.5" 
                height="4" 
                color="#10B981"
                shadow="cast: true"
            ></a-cylinder>
            
            <a-cylinder 
                position="3 0 -14" 
                radius="0.5" 
                height="4" 
                color="#10B981"
                shadow="cast: true"
            ></a-cylinder>
            
            <a-text
                position="0 3 -12"
                value="NODE.JS: BACKEND FOUNDATION"
                align="center"
                color="#D1FAE5"
                width="8"
            ></a-text>
        </a-entity>

        <!-- SCENE 5: React Roof -->
        <a-entity id="scene5" visible="false">
            <!-- Main Roof Structure -->
            <a-box 
                position="0 5.5 -12" 
                width="14" 
                height="0.3" 
                depth="14" 
                color="#06B6D4"
                shadow="cast: true"
                material="metalness: 0.7; roughness: 0.3"
            ></a-box>
            
            <!-- Roof Peak -->
            <a-box 
                position="0 6.2 -12" 
                width="13" 
                height="0.3" 
                depth="13" 
                color="#0891B2"
                shadow="cast: true"
                rotation="0 0 0"
            ></a-box>
            
            <!-- Roof Slants -->
            <a-box 
                position="0 5.8 -6.5" 
                width="13" 
                height="0.2" 
                depth="1" 
                color="#0891B2"
                rotation="-20 0 0"
                shadow="cast: true"
            ></a-box>
            
            <a-box 
                position="0 5.8 -17.5" 
                width="13" 
                height="0.2" 
                depth="1" 
                color="#0891B2"
                rotation="20 0 0"
                shadow="cast: true"
            ></a-box>
            
            <a-box 
                position="-6.5 5.8 -12" 
                width="1" 
                height="0.2" 
                depth="13" 
                color="#0891B2"
                rotation="0 0 -20"
                shadow="cast: true"
            ></a-box>
            
            <a-box 
                position="6.5 5.8 -12" 
                width="1" 
                height="0.2" 
                depth="13" 
                color="#0891B2"
                rotation="0 0 20"
                shadow="cast: true"
            ></a-box>
            
            <!-- React Atom Core -->
            <a-sphere 
                position="0 6.8 -12" 
                radius="0.5" 
                color="#22D3EE"
                shadow="cast: true"
                material="emissive: #22D3EE; emissiveIntensity: 0.3"
            ></a-sphere>
            
            <!-- Orbital Rings -->
            <a-torus position="0 6.8 -12" radius="1.5" radius-tubular="0.1" color="#22D3EE" opacity="0.7"></a-torus>
            <a-torus position="0 6.8 -12" radius="2" radius-tubular="0.1" color="#67E8F9" opacity="0.5" rotation="45 0 0"></a-torus>
            <a-torus position="0 6.8 -12" radius="2.2" radius-tubular="0.08" color="#CFFAFE" opacity="0.4" rotation="0 45 0"></a-torus>
            
            <a-text
                position="0 8.5 -12"
                value="REACT: ADVANCED DEVELOPMENT"
                align="center"
                color="#CFFAFE"
                width="10"
            ></a-text>
        </a-entity>

        <!-- SCENE 6: Design Table -->
        <a-entity id="scene6" visible="false">
            <!-- Design Table -->
            <a-box 
                position="12 0.5 -12" 
                width="6" 
                height="0.3" 
                depth="4" 
                color="#DC2626"
                shadow="cast: true"
            ></a-box>
            
            <!-- Table Legs -->
            <a-cylinder position="10 0 -11" radius="0.1" height="1" color="#991B1B" shadow="cast: true"></a-cylinder>
            <a-cylinder position="14 0 -11" radius="0.1" height="1" color="#991B1B" shadow="cast: true"></a-cylinder>
            <a-cylinder position="10 0 -13" radius="0.1" height="1" color="#991B1B" shadow="cast: true"></a-cylinder>
            <a-cylinder position="14 0 -13" radius="0.1" height="1" color="#991B1B" shadow="cast: true"></a-cylinder>
            
            <!-- Design Tools -->
            <a-box position="11 0.8 -11.5" width="1" height="0.1" depth="0.8" color="#F97316"></a-box>
            <a-cylinder position="13 0.8 -12.5" radius="0.2" height="0.1" color="#FB923C"></a-cylinder>
            
            <a-text
                position="12 3 -12"
                value="FIGMA: DESIGN & PLANNING"
                align="center"
                color="#FEF2F2"
                width="8"
            ></a-text>
        </a-entity>

        <!-- SCENE 7: Project Tree with Fixed Interactive Element -->
        <a-entity id="scene7" visible="false">
            <!-- Main Tree Trunk -->
            <a-cylinder 
                position="-12 2.5 -15" 
                radius="0.6" 
                height="5" 
                color="#654321"
                shadow="cast: true"
                material="roughness: 0.9; metalness: 0.1"
            ></a-cylinder>
            
            <!-- Interactive Tree Plaque - Fixed positioning and interaction -->
            <a-box 
                id="tree-plaque"
                position="-12 1 -14" 
                width="1.5" 
                height="0.8" 
                depth="0.2" 
                color="#8B4513"
                shadow="cast: true"
                class="clickable"
                animation__glow="property: material.emissiveIntensity; to: 0.8; dur: 1500; dir: alternate; loop: true"
                material="emissive: #D4AF37; emissiveIntensity: 0.3"
            ></a-box>
            
            <a-text
                position="-12 1 -13.9"
                value="üå≥ PROJECTS\nCLICK ME!"
                align="center"
                color="#000000"
                width="6"
            ></a-text>
            
            <!-- Tree Bark Details -->
            <a-cylinder 
                position="-12 3.5 -15" 
                radius="0.65" 
                height="1" 
                color="#5D4037"
                shadow="cast: true"
            ></a-cylinder>
            
            <!-- Tree Roots -->
            <a-cylinder position="-12.5 0.3 -14.5" radius="0.2" height="0.6" color="#4A2C17" rotation="0 0 20"></a-cylinder>
            <a-cylinder position="-11.5 0.3 -15.5" radius="0.2" height="0.6" color="#4A2C17" rotation="0 0 -20"></a-cylinder>
            <a-cylinder position="-12.3 0.3 -15.8" radius="0.18" height="0.5" color="#4A2C17" rotation="0 0 15"></a-cylinder>
            
            <!-- Tree Branches -->
            <a-cylinder position="-11.2 4.5 -14.2" radius="0.15" height="1.5" color="#6D4C41" rotation="0 0 -45"></a-cylinder>
            <a-cylinder position="-12.8 4.2 -15.8" radius="0.12" height="1.2" color="#6D4C41" rotation="0 0 35"></a-cylinder>
            <a-cylinder position="-11.5 5.2 -15.5" radius="0.1" height="1" color="#6D4C41" rotation="0 0 -30"></a-cylinder>
            
            <!-- Foliage -->
            <a-sphere 
                position="-12 6 -15" 
                radius="2.8" 
                color="#228B22"
                shadow="cast: true"
                material="roughness: 0.8"
            ></a-sphere>
            
            <a-sphere position="-10.8 6.5 -13.8" radius="0.25" color="#FF6347" shadow="cast: true"></a-sphere>
            <a-sphere position="-13.2 6.8 -16.2" radius="0.25" color="#FF8C00" shadow="cast: true"></a-sphere>
            <a-sphere position="-11.8 7.2 -15" radius="0.25" color="#1E90FF" shadow="cast: true"></a-sphere>
            <a-sphere position="-12.8 7.5 -14.5" radius="0.25" color="#FFD700" shadow="cast: true"></a-sphere>
            <a-sphere position="-11.2 6.8 -15.8" radius="0.25" color="#9370DB" shadow="cast: true"></a-sphere>
            <a-sphere position="-13 6.2 -15" radius="0.25" color="#FF1493" shadow="cast: true"></a-sphere>
            
            <!-- Ground around tree -->
            <a-ring position="-12 -0.9 -15" radius-inner="1" radius-outer="3" color="#8B4513" rotation="-90 0 0"></a-ring>
            
            <a-text
                position="-12 9 -15"
                value="REAL PROJECTS: GROWTH FROM PRACTICE"
                align="center"
                color="#D1FAE5"
                width="8"
            ></a-text>
        </a-entity>

        <!-- SCENE 8: Road Ahead -->
        <a-entity id="scene8" visible="false">
            <!-- Road -->
            <a-plane 
                position="0 -0.8 5" 
                rotation="-90 0 0" 
                width="6" 
                height="20" 
                color="#374151"
            ></a-plane>
            
            <!-- Road Lines -->
            <a-plane position="0 -0.7 0" rotation="-90 0 0" width="0.4" height="2" color="#FBBF24"></a-plane>
            <a-plane position="0 -0.7 5" rotation="-90 0 0" width="0.4" height="2" color="#FBBF24"></a-plane>
            <a-plane position="0 -0.7 10" rotation="-90 0 0" width="0.4" height="2" color="#FBBF24"></a-plane>
            
            <!-- Career Board -->
            <a-box 
                position="15 2 8" 
                width="6" 
                height="2.5" 
                depth="0.3" 
                color="#8B4513"
                shadow="cast: true"
            ></a-box>
            
            <a-box 
                position="15 2 8.1" 
                width="5.5" 
                height="2" 
                depth="0.1" 
                color="#FFFFFF"
            ></a-box>
            
            <a-text
                position="15 2 8.2"
                value="üöÄ CAREER AHEAD\nYour Journey Beyond\nHyper Island"
                align="center"
                color="#000000"
                width="4"
            ></a-text>
            
            <a-cylinder position="12.5 0.5 8" radius="0.12" height="2.5" color="#654321"></a-cylinder>
            <a-cylinder position="17.5 0.5 8" radius="0.12" height="2.5" color="#654321"></a-cylinder>
            
            <a-text
                position="0 4 6"
                value="YOUR JOURNEY BEYOND HYPER ISLAND"
                align="center"
                color="#06B6D4"
                width="10"
            ></a-text>
        </a-entity>

        <!-- Camera -->
        <a-entity
            id="cameraRig"
            position="0 1.6 3"
            rotation="0 0 0"
        >
            <a-camera
                look-controls="enabled: true; pointerLockEnabled: false"
                wasd-controls="enabled: true; acceleration: 65; fly: false"
                fov="70"
                near="0.1"
                far="500"
                raycaster="objects: .clickable"
            >
                <a-cursor 
                    color="#06B6D4" 
                    opacity="0.9"
                    scale="0.8 0.8 0.8"
                    raycaster="objects: .clickable"
                ></a-cursor>
            </a-camera>
        </a-entity>

        <!-- Decorative Elements -->
        <a-sphere position="15 12 -25" radius="0.3" color="#10B981" opacity="0.6"></a-sphere>
        <a-sphere position="-18 10 -30" radius="0.25" color="#1E40AF" opacity="0.6"></a-sphere>
        <a-sphere position="20 15 -15" radius="0.4" color="#DC2626" opacity="0.6"></a-sphere>
        <a-sphere position="-20 18 -20" radius="0.3" color="#FBBF24" opacity="0.5"></a-sphere>
    </a-scene>

    <!-- External JavaScript -->
    <script src="script.js"></script>
</body>
</html>